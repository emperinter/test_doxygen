<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PROJECT_NAME-项目名称: test_doxygen: 资料收集</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
     <script type="text/javascript" src="../version.js"></script>
  <td id="projectalign">
   <div id="projectname">PROJECT_NAME-项目名称: test_doxygen
        <span id="projectnumber">1.1.0</span>
   </div>
   <div id="projectbrief">&#39;PROJECT_BRIEF-项目简介: 用来进行测试doxygen配置生成规则&#39;</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- 制作者 Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs__xE8_xB5_x84_xE6_x96_x99_xE6_x94_xB6_xE9_x9B_x86.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">资料收集 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>在github上查找相关项目，查看其配套文档生成机制<ul>
<li>如何编写</li>
<li>接口文档与使用文档如何组织</li>
<li>最终如何组织为html静态页面<ul>
<li>静态HTML页面使用了哪些库</li>
</ul>
</li>
<li>通过什么方式发布到互联网上</li>
</ul>
</li>
<li>根据已有的项目，以及未来项目的的规划，讨论制定文档生成机制<ul>
<li>何时编写</li>
<li>通过什么格式编写(代码注释、markdown等)</li>
<li>通过什么方式生成发布版(html、pdf)</li>
<li>发布版如何做版本管理</li>
</ul>
</li>
<li>探索过程保留文档，记录在<a href="https://g2hoyqcmh4.feishu.cn/docx/Ys2tdCHJ6oQOSlxERwncnG9fnNg">‌​⁢⁢‬﻿⁡​⁢​⁤⁢‍​﻿⁡‍﻿​‍‬‌‬‍﻿﻿⁢‬​‍﻿​⁤⁣‬​⁤⁡‌⁢⁡​⁤​⁡﻿​​⁢﻿005. 文档生成机制 - 飞书云文档 (feishu.cn)</a>中</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md2"></a>
大体流程</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
![[Pasted image 20230206095819.png]]</h2>
<h1><a class="anchor" id="autotoc_md4"></a>
编写</h1>
<ul>
<li>代码注释<ul>
<li>通过工具配置后提取注释</li>
<li>这就对注释格式有一定要求了</li>
</ul>
</li>
<li>markdown<ul>
<li>配套说明文档</li>
<li>用于生成文档</li>
</ul>
</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md6"></a>
生成</h1>
<ul>
<li>手动去更改配置生成？<ul>
<li>更改配置</li>
<li>生成</li>
<li>替换</li>
</ul>
</li>
<li>通过类似于CI的工具自动生成并发布？【这个是最优解】<ul>
<li>更改配置</li>
<li>后续都由CI来完成</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
doxygen ｜ 通用性较高 ｜ 提取注释  ｜ 可配置MARKDOWN解析</h2>
<p >![[Pasted image 20230205232737.png]] </p>
<h3><a class="anchor" id="autotoc_md8"></a>
初体验</h3>
<ul>
<li>优点<ul>
<li>代码文档生成，感觉是比较完全的</li>
<li>最终生成了一个静态文件，这个感觉是可以最小化消耗资源的</li>
<li>感觉对C友好,python的话感觉可以生成一个diagram表示各个依赖关系</li>
</ul>
</li>
<li>缺点<ul>
<li>没有版本管理，目前版本管理是个问题，如果需要的可能需要人为去写一个程序或代码进行处理</li>
<li><b>目前只是能生成类，类以外的单独函数方法无法提取出来</b></li>
<li>目前Python得readme测试无法读取配置（RCD测试），cpp是可以生成的（rfskit_cpp）</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md9"></a>
安装</h3>
<blockquote class="doxtable">
<p >&zwj;这里以命令行为例，也有相关GUI程序 </p>
</blockquote>
<ul>
<li>mac</li>
</ul>
<div class="fragment"><div class="line">brew install doxygen</div>
</div><!-- fragment --><ul>
<li>windows</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;<a href="https://github.com/doxygen/doxygen/releases">https://github.com/doxygen/doxygen/releases</a> </p>
</blockquote>
<ul>
<li>linux</li>
</ul>
<div class="fragment"><div class="line">sudo apt-get install doxygen</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
生成配置文件</h3>
<ul>
<li>生成配置文件</li>
</ul>
<div class="fragment"><div class="line">doxygen -g  </div>
</div><!-- fragment --><ul>
<li>常见配置修改</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;感觉这一步最好是通过shell脚本进行预定义处理 </p>
</blockquote>
<div class="fragment"><div class="line"><span class="preprocessor"># 项目名称</span></div>
<div class="line">PROJECT_NAME           = <span class="stringliteral">&quot;My Project&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># 项目文档编号</span></div>
<div class="line">PROJECT_NUMBER         = 5.5.0</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># 项目简介</span></div>
<div class="line">PROJECT_BRIEF          = <span class="stringliteral">&#39;test PROJECT_BRIEF &#39;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># 输出文档语言</span></div>
<div class="line">OUTPUT_LANGUAGE        = Chinese</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># 指定路径</span></div>
<div class="line"><span class="preprocessor"># 特别是Python项目，最好一定要指定路径</span></div>
<div class="line">INPUT                  = </div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># 指定要用作主页的markdown页</span></div>
<div class="line">USE_MDFILE_AS_MAINPAGE = README.md</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># html/latex输出路径</span></div>
<div class="line"><span class="preprocessor"># 建议是版本号</span></div>
<div class="line">HTML_OUTPUT            = 5.5.0</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># 输出路径</span></div>
<div class="line"><span class="preprocessor"># 上面生产的文件会存在html文件中</span></div>
<div class="line"><span class="preprocessor"># 生成的文件路径大概为 html/5.5.0</span></div>
<div class="line">OUTPUT_DIRECTORY       = html</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># 排除路径</span></div>
<div class="line"><span class="preprocessor"># 注意把项目的依赖路径给去掉，一般cpp的include python的venv路径</span></div>
<div class="line">EXCLUDE_PATTERNS       = */include/lib_json<span class="comment">/* </span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 是否递归目录</span></div>
<div class="line"><span class="comment">RECURSIVE              = YES </span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 是否生成LATEX（laatex主要用于生成PDF文档）</span></div>
<div class="line"><span class="comment">GENERATE_LATEX         = NO</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 禁用Index</span></div>
<div class="line"><span class="comment">DISABLE_INDEX          = NO</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 左侧树状导航</span></div>
<div class="line"><span class="comment">GENERATE_TREEVIEW      = YES  </span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 主题修改为白色</span></div>
<div class="line"><span class="comment">HTML_COLORSTYLE        = LIGHT</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 是否展示文件</span></div>
<div class="line"><span class="comment">SHOW_FILES             = NO</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 尽可以的从代码中提取信息,既是没有注释的情况【NO时，没有注释的不会提取出来】</span></div>
<div class="line"><span class="comment">EXTRACT_ALL            = YES</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 类的私有方法也进行提取</span></div>
<div class="line"><span class="comment">EXTRACT_PRIVATE        = YES</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># plantuml配置路径</span></div>
<div class="line"><span class="comment">PLANTUML_JAR_PATH</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment"># 自定义头文件</span></div>
<div class="line"><span class="comment">HTML_HEADER            = header.html</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
markdown</h3>
<blockquote class="doxtable">
<p >&zwj;项目路径配置INCLUDE下面的以md结尾的文档都会被以【相关页面展示出来】，没有路径关系，建议这类文档统一放在某个文件夹下以供索引生成 </p>
</blockquote>
<ul>
<li>支持markdown</li>
<li>配置文件中的如下可指定README.md为首页选项</li>
</ul>
<div class="fragment"><div class="line">USE_MDFILE_AS_MAINPAGE = README.md</div>
</div><!-- fragment --><ul>
<li>其它mardown都以相关页面索引中存在</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;markdown 索引方式是按照目录层次，然后按照标题级别进行展示的【和文件名称没有关系】 </p>
</blockquote>
<div class="fragment"><div class="line">|-- README.md  </div>
<div class="line">|-- hh.md      -- 示例中内容为 # hh.md文件中的一级标题</div>
<div class="line">|-- Case</div>
<div class="line">|   |-- s</div>
<div class="line">|       |-- s.md</div>
<div class="line">|       |-- sa.md</div>
<div class="line">|   |-- index.md</div>
</div><!-- fragment --><p >![[Pasted image 20230206165147.png]]</p>
<p >![[Pasted image 20230206165730.png]] </p>
<h3><a class="anchor" id="autotoc_md12"></a>
代码注释类</h3>
<blockquote class="doxtable">
<p >&zwj;这个代码注释十分重要,主要通过固定的格式来进行提取数据并生成文档 </p>
</blockquote>
<ul>
<li>cpp注释例子</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;注释是有一定格式的，同时注释支持markdown </p>
</blockquote>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><p> */ std::string ToHexStr(const unsigned char *data, int len); </p><div class="fragment"><div class="line">![[Pasted image 20230202150106.png]]</div>
<div class="line">![[Pasted image 20230202145940.png]]</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">- python 注释例子</div>
<div class="line"> </div>
<div class="line">&gt; 以！开头 </div>
<div class="line"> </div>
<div class="line">```python</div>
<div class="line">def export(self, request):  </div>
<div class="line">    &#39;&#39;&#39;!  </div>
<div class="line">    @brief 日志文件导出  </div>
<div class="line">  </div>
<div class="line">    @param request 请求的request  </div>
<div class="line">    @return response 返回一个数据流  </div>
<div class="line">  </div>
<div class="line">    ---    </div>
<div class="line">    # markdown test    &gt; echo hh    &#39;&#39;&#39;</div>
</div><!-- fragment --><p >![[Pasted image 20230206153319.png]] </p>
<h3><a class="anchor" id="autotoc_md13"></a>
生成文档</h3>
<div class="fragment"><div class="line">doxygen Doxygen</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
参考</h3>
<ul>
<li><a href="https://www.doxygen.nl/">https://www.doxygen.nl/</a></li>
<li><a href="https://aijishu.com/a/1060000000228594">干货|教你使用Doxygen制作出漂亮程序文档</a><ul>
<li>注释用例</li>
</ul>
</li>
<li><a href="https://cedar-renjun.github.io/2014/03/21/learn-doxygen-in-10-minutes/">https://cedar-renjun.github.io/2014/03/21/learn-doxygen-in-10-minutes/</a></li>
<li><a href="https://www.cnblogs.com/rongpmcu/p/7662765.html">https://www.cnblogs.com/rongpmcu/p/7662765.html</a></li>
<li><a href="https://www.cnblogs.com/davygeek/p/5658968.html">doxygen 生成源码文档</a></li>
<li><a href="https://stackoverflow.com/questions/5507055/excluding-directories-for-doxygen">https://stackoverflow.com/questions/5507055/excluding-directories-for-doxygen</a><ul>
<li>排除</li>
</ul>
</li>
<li><a href="https://www.guyuehome.com/38969">https://www.guyuehome.com/38969</a><ul>
<li>函数注释例子，有图</li>
</ul>
</li>
<li><a href="https://www.star.bnl.gov/public/comp/sofi/doxygen/faq.html">https://www.star.bnl.gov/public/comp/sofi/doxygen/faq.html</a><ul>
<li>私有方法提取提问</li>
</ul>
</li>
<li><a href="https://hgy413.com/1926.html">https://hgy413.com/1926.html</a><ul>
<li>配置参数说明</li>
</ul>
</li>
<li><a href="https://github.com/Velron/doxygen-bootstrapped">https://github.com/Velron/doxygen-bootstrapped</a><ul>
<li>结合boostrap美化</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Sphinx | python  ｜ 提取注释</h2>
<p >![[Pasted image 20230203114215.png]]</p>
<blockquote class="doxtable">
<p >&zwj;Python 用这个的感觉比较多，比如requests和flask </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md16"></a>
初体验</h3>
<ul>
<li>感觉这个生成和配置有点麻烦<ul>
<li>初始话需要手动配置一系列东西<ul>
<li>配置需要考虑目录等等结构，目录结构如果没有定义好的话会产生一些代码提取丢失的情况【如下图】</li>
</ul>
</li>
<li>和项目结合有点难搞，通用性不够好，特别是autodoc配置，目前测试RecordConsole只能提取出来名称，toc各种error<ul>
<li>对目录结构感觉要求比较多，特别是相互之间的依赖关系</li>
<li>如果想要文档完善的话需要修改rst</li>
</ul>
</li>
</ul>
</li>
</ul>
<p >![[Pasted image 20230203114712.png]]</p>
<ul>
<li>发布到 Read The Docs<ul>
<li>发布地址倒是好，有免费的公开地方</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md17"></a>
安装</h3>
<blockquote class="doxtable">
<p >&zwj;这里我碰到一个坑就是官网有通过其它方式比如linux的apt和mac上的brew去按照shpinx，我安装后生成文档时各种error和warning满天飞，什么找不到依赖或者直接生成一片空白的情况，建议统一通过pip或conda去配置。【注意pycharm的venv创建的环境目录venv可能会干扰生成过程】 </p>
</blockquote>
<div class="fragment"><div class="line">pip install sphinx sphinx-autobuild sphinx_rtd_theme recommonmark sphinx-markdown-tables</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md18"></a>
代码注释</h3>
<h3><a class="anchor" id="autotoc_md19"></a>
生成文档</h3>
<blockquote class="doxtable">
<p >&zwj;<code>代码更新后，要删除原有的重新搞一遍，不然各种error满天飞</code> </p>
</blockquote>
<ul>
<li>配置文档生成</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;注意生成路径会影响到rst文件的生成 </p>
</blockquote>
<div class="fragment"><div class="line">(venv) (base) ➜  doc git:(e8caa07) ✗ sphinx-quickstart docs</div>
<div class="line">&gt; Separate source and build directories (y/n) [n]: y</div>
<div class="line">&gt; Project name: rs-bag</div>
<div class="line">&gt; Author name(s): emperinter</div>
<div class="line">&gt; Project release []: 1.0</div>
</div><!-- fragment --><ul>
<li>修改配置</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;<code>目前感觉这个项目路径是十分十分重要的</code> </p>
</blockquote>
<div class="fragment"><div class="line"><span class="comment"># 普通</span></div>
<div class="line"><span class="keyword">import</span> os  </div>
<div class="line"><span class="keyword">import</span> sys  </div>
<div class="line"><span class="comment"># sys.path.append(os.path.relpath(&#39;../&#39;))  </span></div>
<div class="line">sys.path.insert(0, os.path.abspath(<span class="stringliteral">&#39;/Users/emperinter/app/Python/test_sphinx/&#39;</span>))</div>
<div class="line"><span class="comment"># 注意这个路径是相对docs的，同时貌似要加上项目名称</span></div>
<div class="line">  </div>
<div class="line"><span class="comment"># 添加sphinx自动生成脚本  </span></div>
<div class="line">extensions = [<span class="stringliteral">&#39;sphinx.ext.autodoc&#39;</span>]</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="comment"># Configuration file for the Sphinx documentation builder.  </span></div>
<div class="line"><span class="comment">#  </span></div>
<div class="line"><span class="comment"># For the full list of built-in configuration values, see the documentation:  </span></div>
<div class="line"><span class="comment"># https://www.sphinx-doc.org/en/master/usage/configuration.html  </span></div>
<div class="line">  </div>
<div class="line"><span class="keyword">import</span> os  </div>
<div class="line"><span class="keyword">import</span> sys  </div>
<div class="line">sys.path.insert(0, os.path.abspath(<span class="stringliteral">&#39;/Users/emperinter/app/Python/rs-bg/&#39;</span>))  </div>
<div class="line">  </div>
<div class="line"><span class="comment"># -- Project information -----------------------------------------------------  </span></div>
<div class="line"><span class="comment"># https://www.sphinx-doc.org/en/master/usage/configuration.html#project-information  </span></div>
<div class="line">  </div>
<div class="line">project = <span class="stringliteral">&#39;RecordConsole&#39;</span>  </div>
<div class="line">copyright = <span class="stringliteral">&#39;2023, 1&#39;</span>  </div>
<div class="line">author = <span class="stringliteral">&#39;1&#39;</span>  </div>
<div class="line">release = <span class="stringliteral">&#39;1.0&#39;</span>  </div>
<div class="line">  </div>
<div class="line"><span class="comment"># -- General configuration ---------------------------------------------------  </span></div>
<div class="line"><span class="comment"># https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration  </span></div>
<div class="line">  </div>
<div class="line">extensions = [  </div>
<div class="line">    <span class="stringliteral">&#39;sphinx.ext.todo&#39;</span>, <span class="stringliteral">&#39;sphinx.ext.viewcode&#39;</span>, <span class="stringliteral">&#39;sphinx.ext.autodoc&#39;</span>  </div>
<div class="line">]  </div>
<div class="line">  </div>
<div class="line">templates_path = [<span class="stringliteral">&#39;_templates&#39;</span>]  </div>
<div class="line">exclude_patterns = []  </div>
<div class="line">  </div>
<div class="line">  </div>
<div class="line">  </div>
<div class="line"><span class="comment"># -- Options for HTML output -------------------------------------------------  </span></div>
<div class="line"><span class="comment"># https://www.sphinx-doc.org/en/master/usage/configuration.html#options-for-html-output  </span></div>
<div class="line">  </div>
<div class="line">html_theme = <span class="stringliteral">&#39;alabaster&#39;</span>  </div>
<div class="line">html_static_path = [<span class="stringliteral">&#39;_static&#39;</span>]</div>
</div><!-- fragment --><ul>
<li>生成rst文件</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;自动生成后也可以自定义rst文件生成内容 </p>
</blockquote>
<div class="fragment"><div class="line">sphinx-apidoc -o docs/source/rst ../rst</div>
</div><!-- fragment --><p> 或者 </p><div class="fragment"><div class="line">cd docs</div>
<div class="line">sphinx-apidoc -o source/rst ../</div>
</div><!-- fragment --><ul>
<li>生成html</li>
</ul>
<div class="fragment"><div class="line">sphinx-build -b html docs/source/ docs/build/html</div>
</div><!-- fragment --><p> 或者 </p><div class="fragment"><div class="line"># make clean</div>
<div class="line">make html</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md20"></a>
参考</h3>
<ul>
<li><a href="https://www.sphinx-doc.org/zh_CN/master/usage/quickstart.html">https://www.sphinx-doc.org/zh_CN/master/usage/quickstart.html</a></li>
<li><a href="https://www.jianshu.com/p/d4a1347f467b">https://www.jianshu.com/p/d4a1347f467b</a></li>
<li><a href="https://www.zhihu.com/question/20192898/answer/2378278096">https://www.zhihu.com/question/20192898/answer/2378278096</a><ul>
<li>Django建议看这个</li>
<li>autoc无法正常提取</li>
</ul>
</li>
<li><a href="https://blog.csdn.net/qq_38048756/article/details/118024734">https://blog.csdn.net/qq_38048756/article/details/118024734</a><ul>
<li>最简化一个moudule这个教程是可以的</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md21"></a>
mkdocs ｜ markdown</h2>
<blockquote class="doxtable">
<p >&zwj;django-rest-framework 基于这个生成 </p>
</blockquote>
<p>![[Pasted image 20230205232448.png]]</p>
<h3><a class="anchor" id="autotoc_md22"></a>
case</h3>
<ul>
<li>安装</li>
</ul>
<div class="fragment"><div class="line">pip install mkdocs</div>
</div><!-- fragment --><ul>
<li>项目路径配置</li>
</ul>
<div class="fragment"><div class="line">mkdocs new my-project</div>
</div><!-- fragment --><div class="fragment"><div class="line">|--my-project</div>
<div class="line">|  |</div>
<div class="line">|  |--docs           : 文档路径</div>
<div class="line">|     |-- index.md</div>
<div class="line">|  |--mkdocs.yml     : 配置路径</div>
</div><!-- fragment --><ul>
<li>配置</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;如下是多级目录配置 </p>
</blockquote>
<div class="fragment"><div class="line">site_name: scrapy_test  </div>
<div class="line">nav:  </div>
<div class="line">- Home: index.md  </div>
<div class="line">- Install: install.md  </div>
<div class="line">- Documents:  </div>
<div class="line">    - Usage: usage.md  </div>
<div class="line">    - Tutorial: tutorial.md</div>
</div><!-- fragment --><p >![[Pasted image 20230206172118.png]]</p>
<p >![[Pasted image 20230206172139.png]]</p><ul>
<li>本地运行/实时性比较高</li>
</ul>
<div class="fragment"><div class="line">mkdocs serve</div>
</div><!-- fragment --><ul>
<li>生成静态页面</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;生成后会有个site路径 </p>
</blockquote>
<div class="fragment"><div class="line">mkdocs build</div>
</div><!-- fragment --><ul>
<li>发布到github-pages</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;这个命令会在github项目上创建一个gh-pages分支，并将当前目录中的site/目录下的内容推送到远程的gh-pages分支。 然后就可以在你访问你的文档了地址<code><a href="https://{username}.github.io/{projectname}">https://{username}.github.io/{projectname}</a></code> ,注意github可能需要等待几分钟才能看到页面，有一点缓存时间。 </p>
</blockquote>
<div class="fragment"><div class="line">mkdocs gh-deploy --clean</div>
</div><!-- fragment --><ul>
<li>后面文档编写就放到docs目录下编写即可，每次更新文档后上传，进入docs目录，然后执行一行命令即可：</li>
</ul>
<div class="fragment"><div class="line">mkdocs gh-deploy --clean</div>
</div><!-- fragment --><ul>
<li>其它自定义可以参考 <a href="https://zhuanlan.zhihu.com/p/383582472">https://zhuanlan.zhihu.com/p/383582472</a><ul>
<li>增加页面</li>
<li>主题 </li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md23"></a>
参考</h3>
<ul>
<li><a href="https://www.mkdocs.org/">https://www.mkdocs.org/</a><ul>
<li>官网</li>
</ul>
</li>
<li><a href="https://zhuanlan.zhihu.com/p/383582472">https://zhuanlan.zhihu.com/p/383582472</a><ul>
<li>参考教程示例</li>
<li>教程比较完善</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md24"></a>
swagger ｜ web接口类似的</h2>
<ul>
<li>感觉是API相关的东西，适用于Web端，类似于api-fox</li>
<li>如果是Python项目可以直接使用一些框架<ul>
<li>Django的rest_framework开启web端口</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md25"></a>
参考</h3>
<ul>
<li><a href="https://swagger.io/">https://swagger.io/</a></li>
<li><a href="https://juejin.cn/post/7035027705720471583">https://juejin.cn/post/7035027705720471583</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
Javadoc</h2>
<blockquote class="doxtable">
<p >&zwj;目前公司内部无相关项目，暂不做研究 </p>
</blockquote>
<h3><a class="anchor" id="autotoc_md27"></a>
参考</h3>
<ul>
<li><a href="https://blog.csdn.net/weixin_44170221/article/details/106502037">https://blog.csdn.net/weixin_44170221/article/details/106502037</a></li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md29"></a>
版本管理</h1>
<blockquote class="doxtable">
<p >&zwj;目前看原生都是没有版本管理的，目前感觉最好是通过一个index.html+js去索引某个路径下以版本号为文件的各个路径 </p>
</blockquote>
<p>![[Pasted image 20230206100730.png]]</p>
<ul>
<li>参考<ul>
<li>sphinx版本管理<ul>
<li><a href="https://stackoverflow.com/questions/28849284/how-do-i-have-multiple-versions-of-my-doc-with-sphinx">https://stackoverflow.com/questions/28849284/how-do-i-have-multiple-versions-of-my-doc-with-sphinx</a></li>
<li><a href="https://holzhaus.github.io/sphinx-multiversion/master/index.html">https://holzhaus.github.io/sphinx-multiversion/master/index.html</a></li>
<li>read the docs 版本管理<ul>
<li><a href="https://docs.readthedocs.io/en/latest/versions.html">https://docs.readthedocs.io/en/latest/versions.html</a></li>
<li><a href="https://docs.readthedocs.io/en/latest/index.html">https://docs.readthedocs.io/en/latest/index.html</a></li>
</ul>
</li>
</ul>
</li>
<li>doxygen<ul>
<li>本身是没有这个功能的<ul>
<li><a href="https://stackoverflow.com/questions/55712702/how-to-select-between-multiple-versions-within-html-documentation">https://stackoverflow.com/questions/55712702/how-to-select-between-multiple-versions-within-html-documentation</a></li>
</ul>
</li>
<li>可以参考opencv试试<ul>
<li><a href="https://docs.opencv.org/4.0.0/index.html">https://docs.opencv.org/4.0.0/index.html</a></li>
<li>这个版本管理不清楚是怎么实现的</li>
<li>感觉是通过HTML_HEADER等等配置来进行添加的<ul>
<li>js 这个js存放地址会干扰之类的吗？</li>
<li>html 这个好说</li>
<li><a href="https://www.doxygen.nl/manual/customize.html#minor_tweaks_header_css">https://www.doxygen.nl/manual/customize.html#minor_tweaks_header_css</a></li>
<li><a href="https://github.com/Velron/doxygen-bootstrapped">https://github.com/Velron/doxygen-bootstrapped</a><ul>
<li>自定义例子</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>mkdocs<ul>
<li>无版本管理</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
doxygen自定义</h2>
<blockquote class="doxtable">
<p >&zwj;自定义的话需要考虑如何配置最初的路径，和script息息相关 </p>
</blockquote>
<ul>
<li>生成头脚文件</li>
</ul>
<div class="fragment"><div class="line">doxygen -w html header.html footer.html customdoxygen.css</div>
</div><!-- fragment --><ul>
<li>修改文件</li>
</ul>
<p >header 项目编号配置 下面是opencv的的参考</p>
<blockquote class="doxtable">
<p >&zwj;版本号这个同时需要修改header里面的version文件以及Doxygen中的PROJECT_NUMBER和HTML_OUTPUT </p>
</blockquote>
<ul>
<li>header.html</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;核心是下面两个地方，js的引用路径和$projectnumber不要有空格等等，否则js会读取数据失败！建议header.html固定模版就行了 </p>
</blockquote>
<div class="fragment"><div class="line">&lt;!--END PROJECT_LOGO--&gt;  </div>
<div class="line">   &lt;script type=&quot;text/javascript&quot; src=&quot;../version.js&quot;&gt;&lt;/script&gt;  </div>
<div class="line">&lt;!--BEGIN PROJECT_NAME--&gt;  </div>
<div class="line">&lt;td id=&quot;projectalign&quot;&gt;  </div>
<div class="line"> &lt;div id=&quot;projectname&quot;&gt;$projectname&lt;!--BEGIN PROJECT_NUMBER--&gt;  </div>
<div class="line">      &lt;span id=&quot;projectnumber&quot;&gt;$projectnumber&lt;/span&gt;  </div>
<div class="line"> &lt;/div&gt;</div>
</div><!-- fragment --><ul>
<li>version.js</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;注意版本号以及替代路径按需求修改，同时所有版本号配置需要保持一致，否则按版本号进行跳转时如果没有某个文件则会出现404的情况 </p>
</blockquote>
<div class="fragment"><div class="line">document.addEventListener(&quot;DOMContentLoaded&quot;, function() {  </div>
<div class="line">  var versions = [  </div>
<div class="line">      [&#39;4.6.0&#39;, &#39;/4.6.0&#39;],  </div>
<div class="line">      [&#39;4.5.0&#39;, &#39;/4.5.0&#39;],  </div>
<div class="line">      [&#39;4.4.0&#39;, &#39;/4.4.0&#39;],  </div>
<div class="line">      [&#39;4.3.0&#39;, &#39;/4.3.0&#39;],  </div>
<div class="line">      [&#39;4.2.0&#39;, &#39;/4.2.0&#39;],  </div>
<div class="line">      [&#39;4.1.2&#39;, &#39;/4.1.2&#39;],  </div>
<div class="line">      [&#39;4.1.1&#39;, &#39;/4.1.1&#39;],  </div>
<div class="line">      [&#39;4.1.0&#39;, &#39;/4.1.0&#39;],  </div>
<div class="line">      [&#39;4.0.1&#39;, &#39;/4.0.1&#39;],  </div>
<div class="line">      [&#39;4.0.0&#39;, &#39;/4.0.0&#39;],  </div>
<div class="line">      [&#39;3.4.19&#39;, &#39;/3.4.19&#39;],  </div>
<div class="line">      [&#39;3.4.18&#39;, &#39;/3.4.18&#39;],  </div>
<div class="line">      [&#39;3.4.17&#39;, &#39;/3.4.17&#39;],  </div>
<div class="line">      [&#39;3.4.16&#39;, &#39;/3.4.16&#39;],  </div>
<div class="line">      [&#39;3.4.15&#39;, &#39;/3.4.15&#39;],  </div>
<div class="line">      [&#39;3.4.14&#39;, &#39;/3.4.14&#39;],  </div>
<div class="line">      [&#39;3.4.13&#39;, &#39;/3.4.13&#39;],  </div>
<div class="line">      [&#39;3.4.12&#39;, &#39;/3.4.12&#39;],  </div>
<div class="line">      [&#39;3.4.11&#39;, &#39;/3.4.11&#39;],  </div>
<div class="line">      [&#39;3.4.10&#39;, &#39;/3.4.10&#39;],  </div>
<div class="line">      [&#39;3.4.9&#39;, &#39;/3.4.9&#39;],  </div>
<div class="line">      [&#39;3.4.8&#39;, &#39;/3.4.8&#39;],  </div>
<div class="line">      [&#39;3.4.7&#39;, &#39;/3.4.7&#39;],  </div>
<div class="line">      [&#39;3.4.6&#39;, &#39;/3.4.6&#39;],  </div>
<div class="line">      [&#39;3.4.5&#39;, &#39;/3.4.5&#39;],  </div>
<div class="line">      [&#39;3.4.4&#39;, &#39;/3.4.4&#39;],  </div>
<div class="line">      [&#39;3.4.3&#39;, &#39;/3.4.3&#39;],  </div>
<div class="line">      [&#39;3.4.2&#39;, &#39;/3.4.2&#39;],  </div>
<div class="line">      [&#39;3.4.1&#39;, &#39;/3.4.1&#39;],  </div>
<div class="line">      [&#39;3.4.0&#39;, &#39;/3.4.0&#39;],  </div>
<div class="line">      [&#39;3.3.1&#39;, &#39;/3.3.1&#39;],  </div>
<div class="line">      [&#39;3.3.0&#39;, &#39;/3.3.0&#39;],  </div>
<div class="line">      [&#39;3.2.0&#39;, &#39;/3.2.0&#39;],  </div>
<div class="line">      [&#39;3.1.0&#39;, &#39;/3.1.0&#39;],  </div>
<div class="line">      [&#39;3.0.0&#39;, &#39;/3.0.0&#39;],  </div>
<div class="line">  ];  </div>
<div class="line">  var current_ver = $(&quot;#projectnumber&quot;)[0].innerText || versions[0][0];  </div>
<div class="line">  var h = &#39;&lt;select&gt;&#39;;  </div>
<div class="line">  for (i = 0; i &lt; versions.length; i++) {  </div>
<div class="line">      selected = &#39;&#39;  </div>
<div class="line">      if(current_ver === versions[i][0])  </div>
<div class="line">          selected = &#39; selected=&quot;selected&quot;&#39;;  </div>
<div class="line">      h += &#39;&lt;option value=&quot;&#39; + versions[i][0] + &#39;&quot;&#39; + selected + &#39;&gt;&#39; + versions[i][0] + &#39;&lt;/option&gt;&#39;;  </div>
<div class="line">  }  </div>
<div class="line">  h += &#39;&lt;/select&gt;&#39;;  </div>
<div class="line">  </div>
<div class="line">  $(&quot;#projectnumber&quot;)[0].innerHTML = h;  </div>
<div class="line">  </div>
<div class="line">  $(&quot;#projectnumber select&quot;)[0].addEventListener(&#39;change&#39;, function() {  </div>
<div class="line">      var v = $(this).children(&#39;option:selected&#39;).attr(&#39;value&#39;);  </div>
<div class="line">      var path = undefined;  </div>
<div class="line">      for (i = 0; i &lt; versions.length; i++) {  </div>
<div class="line">          if(v === versions[i][0]) {  </div>
<div class="line">              path = versions[i][1];  </div>
<div class="line">              break;          }  </div>
<div class="line">      }  </div>
<div class="line">  </div>
<div class="line">      if (path) {  </div>
<div class="line">          var location = window.location;  </div>
<div class="line">          var url = location.href;  </div>
<div class="line">          var urlParts = url.split(&quot;/&quot;);  </div>
<div class="line">          // get version  </div>
<div class="line">          // TODO: 具体情况需要按照url进行修改,目前测试是按照如下如来进行配置的  </div>
<div class="line">          // http://localhost:63342/rs-bg/html/4.6.0/index.html  </div>
<div class="line">          var current_version = urlParts[5];  </div>
<div class="line">  </div>
<div class="line">          // TODO: 如下的取代页需要按需进行配置  </div>
<div class="line">          var new_url = url.replace(window.location.hostname + &#39;:63342/rs-bg/html/&#39; + current_version,  </div>
<div class="line">                                    window.location.hostname +&#39;:63342/rs-bg/html&#39; + path);  </div>
<div class="line">          if (url == new_url) {  </div>
<div class="line">              var current_version = /\/[^\/]+/.exec(location.pathname)  </div>
<div class="line">              new_url = url.replace(window.location.hostname + current_version,  </div>
<div class="line">                                    window.location.hostname + path);  </div>
<div class="line">          }  </div>
<div class="line">          if (url != new_url)  </div>
<div class="line">              window.location.href = new_url; // navigate  </div>
<div class="line">      }  </div>
<div class="line">  });  </div>
<div class="line">  // return current_ver;  </div>
<div class="line">});</div>
</div><!-- fragment --><ul>
<li>修改配置</li>
</ul>
<div class="fragment"><div class="line">HTML_HEADER = header.html</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md31"></a>
其它</h2>
<blockquote class="doxtable">
<p >&zwj;感觉都需要如此配置，python的readthedocs有介绍说自带 </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md32"></a>
&lt;/blockquote&gt;</h2>
<h1><a class="anchor" id="autotoc_md33"></a>
发布</h1>
<h2><a class="anchor" id="autotoc_md34"></a>
github/gitee pages</h2>
<ul>
<li>参考<ul>
<li><a href="https://open-source-parsers.github.io/jsoncpp-docs/doxygen/index.html">https://open-source-parsers.github.io/jsoncpp-docs/doxygen/index.html</a><ul>
<li>jsoncpp的文档地址 ｜ doxygen</li>
</ul>
</li>
<li></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md35"></a>
使用ReadtheDocs托管文档</h2>
<ul>
<li>参考<ul>
<li><a href="https://www.xncoding.com/2017/01/22/fullstack/readthedoc.html">https://www.xncoding.com/2017/01/22/fullstack/readthedoc.html</a></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md36"></a>
服务器</h2>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
